{extend name="base" /}
{block name="nav"}{include file="nav_Quality" /}{/block}
{block name="content"}


<div class="layui-fluid">

    <div class="layui-card" style="margin: 15px 0;">
        <div class="layui-card-header">货品分类管理</div>
        <div class="layui-card-body">

            <div id="test9" class="demo-tree demo-tree-box"></div>

        </div>
    </div>
</div>


{/block}

{block name="jsScript"}
<script>


    //Demo
    layui.use(['tree', 'util'], function () {
        var tree = layui.tree, layer = layui.layer, util = layui.util

        var data1 = [{
            title: '江西'
            , id: 1
            , children: [{
                title: '南昌'
                , id: 1000
                , children: [{
                    title: '青山湖区'
                    , id: 10001
                }, {
                    title: '高新区'
                    , id: 10002
                }]
            }, {
                title: '九江'
                , id: 1001
            }, {
                title: '赣州'
                , id: 1002
            }]
        }, {
            title: '广西'
            , id: 2
            , children: [{
                title: '南宁'
                , id: 2000
            }, {
                title: '桂林'
                , id: 2001
            }]
        }, {
            title: '陕西'
            , id: 3
            , children: [{
                title: '西安'
                , id: 3000
            }, {
                title: '延安'
                , id: 3001
            }]
        }];


        //开启节点操作图标
        tree.render({
            elem: '#test9'
            , data: data1
            , edit: ['add', 'update', 'del'] //操作节点的图标
            , click: function (obj) {
                layer.msg(JSON.stringify(obj.data));
            }


            , operate: function (obj) {
                var type = obj.type; //得到操作类型：add、edit、del
                var data = obj.data; //得到当前节点的数据
                var elem = obj.elem; //得到当前节点元素


                //Ajax 操作
                var id = data.id; //得到节点索引
                if (type === 'add') { //增加节点

                    //返回 key 值
                    return 123;
                } else if (type === 'update') { //修改节点

                    console.log(elem.find('.layui-tree-txt').html()); //得到修改后的内容
                } else if (type === 'del') { //删除节点


                }
            }


        });
    });

</script>
{/block}